{% comment %}
  Page FAQ complète avec catégories, sous-catégories et menu latéral
  Compatible mobile et desktop - Mêmes animations que la section FAQ
{% endcomment %}

<div class="faq-page page-width section-{{ section.id }}-padding">
  <div class="faq-page-header">
    <h1 class="faq-page-title">{{ section.settings.title }}</h1>
    {% if section.settings.show_subtitle and section.settings.subtitle != blank %}
      <div class="faq-page-subtitle">{{ section.settings.subtitle }}</div>
    {% endif %}
  </div>

  <div class="faq-page-content">
    <div class="faq-page-sidebar">
      <div class="faq-page-categories">
        <div class="faq-page-category-title">{{ section.settings.categories_title }}</div>
        <ul class="faq-page-category-list">
          {% for block in section.blocks %}
            {% if block.type == 'category' %}
              <li class="faq-page-category-item">
                <a href="#category-{{ block.id }}" class="faq-page-category-link">
                  {{ block.settings.category_name }}
                </a>
                
                {% comment %} Liste des sous-catégories {% endcomment %}
                <ul class="faq-page-subcategory-list">
                  {% for subblock in section.blocks %}
                    {% if subblock.type == 'subcategory' and subblock.settings.parent_category == block.settings.category_id %}
                      <li class="faq-page-subcategory-item">
                        <a href="#subcategory-{{ subblock.id }}" class="faq-page-subcategory-link">
                          {{ subblock.settings.subcategory_name }}
                        </a>
                      </li>
                    {% endif %}
                  {% endfor %}
                </ul>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </div>

    <div class="faq-page-questions">
      {% for block in section.blocks %}
        {% if block.type == 'category' %}
          <div id="category-{{ block.id }}" class="faq-page-category-section" {{ block.shopify_attributes }}>
            <h2 class="faq-page-category-heading">{{ block.settings.category_name }}</h2>
            
            {% assign has_subcategories = false %}
            {% for subblock in section.blocks %}
              {% if subblock.type == 'subcategory' and subblock.settings.parent_category == block.settings.category_id %}
                {% assign has_subcategories = true %}
              {% endif %}
            {% endfor %}
            
            {% if has_subcategories %}
              {% comment %} Affichage des sous-catégories {% endcomment %}
              {% for subblock in section.blocks %}
                {% if subblock.type == 'subcategory' and subblock.settings.parent_category == block.settings.category_id %}
                  <div id="subcategory-{{ subblock.id }}" class="faq-page-subcategory-section" {{ subblock.shopify_attributes }}>
                    <h3 class="faq-page-subcategory-heading">{{ subblock.settings.subcategory_name }}</h3>
                    <div class="faq-page-questions-list">
                      {% assign questions_count = 0 %}
                      {% for question_block in section.blocks %}
                        {% if question_block.type == 'question' and question_block.settings.subcategory == subblock.settings.subcategory_id %}
                          {% assign questions_count = questions_count | plus: 1 %}
                          <details id="Details-{{ question_block.id }}" class="faq-details" {{ question_block.shopify_attributes }}>
                            <summary class="faq-summary">
                              <h4 class="faq-question">{{ question_block.settings.question }}</h4>
                              <span class="faq-chevron">
                                <svg class="icon icon-chevron" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path d="M19 9L12 16L5 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                              </span>
                            </summary>
                            <div class="faq-answer">
                              {{ question_block.settings.answer }}
                            </div>
                          </details>
                        {% endif %}
                      {% endfor %}
                      
                      {% if questions_count == 0 %}
                        <div class="faq-no-questions">{{ section.settings.no_questions_text }}</div>
                      {% endif %}
                    </div>
                  </div>
                {% endif %}
              {% endfor %}
            {% else %}
              {% comment %} Affichage des questions sans sous-catégorie {% endcomment %}
              <div class="faq-page-questions-list">
                {% assign questions_count = 0 %}
                {% for question_block in section.blocks %}
                  {% if question_block.type == 'question' and question_block.settings.category == block.settings.category_id and question_block.settings.subcategory == blank %}
                    {% assign questions_count = questions_count | plus: 1 %}
                    <details id="Details-{{ question_block.id }}" class="faq-details" {{ question_block.shopify_attributes }}>
                      <summary class="faq-summary">
                        <h3 class="faq-question">{{ question_block.settings.question }}</h3>
                        <span class="faq-chevron">
                          <svg class="icon icon-chevron" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 9L12 16L5 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                        </span>
                      </summary>
                      <div class="faq-answer">
                        {{ question_block.settings.answer }}
                      </div>
                    </details>
                  {% endif %}
                {% endfor %}
                
                {% if questions_count == 0 and has_subcategories == false %}
                  <div class="faq-no-questions">{{ section.settings.no_questions_text }}</div>
                {% endif %}
              </div>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .faq-page {
    margin: 60px auto;
    max-width: {{ section.settings.content_width }}px;
  }

  .faq-page-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .faq-page-title {
    font-size: {{ section.settings.title_size }}px;
    margin: 0 0 15px 0;
    font-weight: {{ section.settings.title_weight }};
    color: {{ section.settings.title_color }};
  }

  .faq-page-subtitle {
    font-size: {{ section.settings.subtitle_size }}px;
    color: {{ section.settings.subtitle_color }};
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.5;
  }

  .faq-page-content {
    display: flex;
    gap: 40px;
  }

  .faq-page-sidebar {
    width: 250px;
    flex-shrink: 0;
    position: sticky;
    top: 30px;
    align-self: flex-start;
    height: fit-content;
  }

  .faq-page-categories {
    background-color: {{ section.settings.sidebar_bg_color }};
    border-radius: {{ section.settings.sidebar_border_radius }}px;
    padding: 20px;
    box-shadow: 0 2px 10px {{ section.settings.shadow_color | color_modify: 'alpha', 0.1 }};
  }

  .faq-page-category-title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
    color: {{ section.settings.category_title_color }};
  }

  .faq-page-category-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .faq-page-category-item {
    margin-bottom: 10px;
  }

  .faq-page-subcategory-list {
    list-style: none;
    padding: 0;
    margin: 5px 0 10px 15px;
    overflow: hidden;
    max-height: 0;
    transition: max-height 0.3s ease;
  }
  
  .faq-page-category-item.active .faq-page-subcategory-list {
    max-height: 1000px;
  }

  .faq-page-subcategory-item {
    margin-bottom: 6px;
  }

  .faq-page-category-link {
    display: block;
    text-decoration: none;
    color: {{ section.settings.category_link_color }};
    padding: 8px 15px;
    border-radius: 6px;
    transition: all 0.3s ease;
    position: relative;
  }
  
  .faq-page-category-link::after {
    content: '+';
    position: absolute;
    right: 15px;
    transition: transform 0.3s ease;
  }
  
  .faq-page-category-item.active .faq-page-category-link::after {
    transform: rotate(45deg);
  }

  .faq-page-subcategory-link {
    display: block;
    text-decoration: none;
    color: {{ section.settings.category_link_color | color_modify: 'alpha', 0.85 }};
    padding: 6px 15px;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-size: 0.9em;
  }

  .faq-page-category-link:hover, .faq-page-category-link.active {
    background-color: {{ section.settings.category_link_hover_bg }};
    color: {{ section.settings.category_link_hover_color }};
    transform: translateX(5px);
  }
  
  .faq-page-subcategory-link:hover, .faq-page-subcategory-link.active {
    background-color: {{ section.settings.category_link_hover_bg }};
    color: {{ section.settings.category_link_hover_color }};
    transform: translateX(5px);
  }

  .faq-page-questions {
    flex: 1;
  }

  .faq-page-category-section {
    margin-bottom: 50px;
    scroll-margin-top: 30px;
  }
  
  .faq-page-subcategory-section {
    margin-bottom: 30px;
    scroll-margin-top: 40px;
  }

  .faq-page-category-heading {
    font-size: {{ section.settings.category_heading_size }}px;
    font-weight: {{ section.settings.category_heading_weight }};
    color: {{ section.settings.category_heading_color }};
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid {{ section.settings.category_heading_border_color }};
  }
  
  .faq-page-subcategory-heading {
    font-size: calc({{ section.settings.category_heading_size }}px * 0.85);
    font-weight: {{ section.settings.category_heading_weight }};
    color: {{ section.settings.category_heading_color }};
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid {{ section.settings.category_heading_border_color | color_modify: 'alpha', 0.5 }};
  }

  .faq-page-questions-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .faq-no-questions {
    padding: 20px;
    background-color: {{ section.settings.no_questions_bg }};
    border-radius: 8px;
    text-align: center;
    color: {{ section.settings.no_questions_color }};
  }

  /* Les styles pour les éléments accordéon, repris de la section FAQ */
  .faq-details {
    border-bottom: none;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    background-color: #FFFFFF;
    border-radius: {{ section.settings.question_border_radius }}px;
    margin-bottom: 15px;
    box-shadow: 0 2px 8px {{ section.settings.shadow_color | color_modify: 'alpha', 0.1 }};
    overflow: hidden;
  }
  
  .faq-details:hover {
    background-color: {{ section.settings.hover_bg_color | color_modify: 'alpha', 0.05 }};
    box-shadow: 0 4px 12px {{ section.settings.shadow_color | color_modify: 'alpha', 0.15 }};
  }
  
  .faq-details[open] {
    background-color: {{ section.settings.active_bg_color | color_modify: 'alpha', 0.08 }};
    box-shadow: 0 6px 15px {{ section.settings.shadow_color | color_modify: 'alpha', 0.2 }};
  }

  .faq-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: {{ section.settings.question_padding }}px 20px;
    cursor: pointer;
    list-style: none;
    transition: padding 0.3s ease;
    position: relative;
  }
  
  .faq-summary:hover {
    padding-left: calc(20px + {{ section.settings.hover_indent }}px);
  }
  
  .faq-summary::before {
    content: '';
    position: absolute;
    left: 20px;
    width: 0;
    height: 2px;
    background-color: {{ section.settings.hover_color }};
    transition: width 0.3s ease;
    bottom: 50%;
    opacity: 0;
  }
  
  .faq-summary:hover::before {
    width: {{ section.settings.hover_indent }}px;
    opacity: 1;
  }

  .faq-summary::-webkit-details-marker {
    display: none;
  }

  .faq-question {
    margin: 0;
    font-size: {{ section.settings.question_size }}px;
    font-weight: {{ section.settings.question_weight }};
    color: {{ section.settings.question_color }};
  }

  .faq-chevron {
    transition: transform 0.3s, color 0.3s;
    color: {{ section.settings.chevron_color }};
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
  }

  details[open] .faq-chevron {
    transform: rotate(180deg);
    color: {{ section.settings.chevron_active_color }};
  }
  
  .faq-summary:hover .faq-chevron {
    background-color: {{ section.settings.chevron_hover_bg }};
  }

  .faq-answer {
    padding: 0 20px 24px 20px;
    color: {{ section.settings.answer_color }};
    line-height: 1.6;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease, padding 0.3s ease, opacity 0.3s ease;
    opacity: 0;
  }
  
  details[open] .faq-answer {
    max-height: 1000px;
    opacity: 1;
  }

  @media screen and (max-width: 990px) {
    .faq-page-content {
      flex-direction: column;
    }
    
    .faq-page-sidebar {
      width: 100%;
      position: relative;
      top: 0;
      margin-bottom: 30px;
    }
    
    .faq-page-category-list {
      display: flex;
      flex-direction: column;
    }
    
    .faq-page-subcategory-list {
      margin-left: 0;
      padding-left: 15px;
    }
    
    .faq-page-title {
      font-size: calc({{ section.settings.title_size }}px * 0.8);
    }
    
    .faq-page-category-heading {
      font-size: calc({{ section.settings.category_heading_size }}px * 0.9);
    }
  }

  @media screen and (max-width: 749px) {
    .faq-page-header {
      margin-bottom: 30px;
    }
    
    .faq-page-category-link:hover {
      transform: none;
    }
    
    .faq-page-subcategory-link:hover {
      transform: none;
    }
    
    .faq-details {
      margin-bottom: 10px;
    }
    
    .faq-summary {
      padding: calc({{ section.settings.question_padding }}px * 0.8) 15px;
    }
    
    .faq-summary:hover {
      padding-left: calc(15px + {{ section.settings.hover_indent }}px);
    }
    
    .faq-answer {
      padding: 0 15px 20px 15px;
    }
    
    .faq-page-category-section {
      margin-bottom: 30px;
    }
    
    .faq-page-subcategory-section {
      margin-bottom: 20px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Gestion de l'animation des accordéons
    const detailsElements = document.querySelectorAll('.faq-details');
    
    detailsElements.forEach((details) => {
      // Préparer l'animation
      const summary = details.querySelector('.faq-summary');
      const answer = details.querySelector('.faq-answer');
      
      // S'assurer que les réponses sont fermées au départ
      if (!details.hasAttribute('open')) {
        answer.style.padding = '0 20px';
      }
      
      details.addEventListener('click', (e) => {
        if (e.target.closest('.faq-summary')) {
          e.preventDefault();
          const clickedDetails = details;
          
          // Si on clique sur un élément déjà ouvert, on le ferme
          if (clickedDetails.hasAttribute('open')) {
            // Animation de fermeture
            answer.style.maxHeight = '0';
            answer.style.padding = '0 20px';
            answer.style.opacity = '0';
            
            // Attendre la fin de l'animation avant de fermer
            setTimeout(() => {
              clickedDetails.removeAttribute('open');
            }, 300);
            return;
          }
          
          // Ferme tous les autres éléments avec animation
          detailsElements.forEach((otherDetails) => {
            if (otherDetails !== clickedDetails && otherDetails.hasAttribute('open')) {
              const otherAnswer = otherDetails.querySelector('.faq-answer');
              otherAnswer.style.maxHeight = '0';
              otherAnswer.style.padding = '0 20px';
              otherAnswer.style.opacity = '0';
              
              setTimeout(() => {
                otherDetails.removeAttribute('open');
              }, 300);
            }
          });
          
          // Ouvre l'élément actuel
          clickedDetails.setAttribute('open', '');
          setTimeout(() => {
            answer.style.maxHeight = answer.scrollHeight + 'px';
            answer.style.paddingBottom = '24px';
            answer.style.opacity = '1';
          }, 10);
        }
      });
    });
    
    // Animation au chargement si une question est déjà ouverte
    detailsElements.forEach((details) => {
      if (details.hasAttribute('open')) {
        const answer = details.querySelector('.faq-answer');
        answer.style.maxHeight = answer.scrollHeight + 'px';
        answer.style.paddingBottom = '24px';
        answer.style.opacity = '1';
      }
    });
    
    // Gestion des catégories et sous-catégories
    const categoryItems = document.querySelectorAll('.faq-page-category-item');
    const categoryLinks = document.querySelectorAll('.faq-page-category-link');
    const subcategoryLinks = document.querySelectorAll('.faq-page-subcategory-link');
    const categorySections = document.querySelectorAll('.faq-page-category-section');
    const subcategorySections = document.querySelectorAll('.faq-page-subcategory-section');
    
    // Déplier/replier les sous-catégories au clic sur la catégorie
    categoryLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        const categoryItem = this.closest('.faq-page-category-item');
        const isActive = categoryItem.classList.contains('active');
        
        // Si on clique sur la catégorie, on bascule l'état (plié/déplié)
        categoryItem.classList.toggle('active');
        
        // Si on clique pour ouvrir, on scrolle vers la section
        if (!isActive) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 50,
              behavior: 'smooth'
            });
            
            // Met à jour l'URL sans recharger la page
            history.pushState(null, null, '#' + targetId);
            
            // Met à jour la classe active des catégories
            categoryLinks.forEach(l => {
              if (l !== this) {
                l.classList.remove('active');
              } else {
                l.classList.add('active');
              }
            });
          }
        }
      });
    });
    
    // Smooth scroll pour les liens de sous-catégories
    subcategoryLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 60,
            behavior: 'smooth'
          });
          
          // Met à jour l'URL sans recharger la page
          history.pushState(null, null, '#' + targetId);
          
          // Met à jour la classe active des sous-catégories
          subcategoryLinks.forEach(l => {
            if (l !== this) {
              l.classList.remove('active');
            } else {
              l.classList.add('active');
              
              // Ouvre aussi la catégorie parente
              const parentCategory = l.closest('.faq-page-category-item');
              if (parentCategory) {
                parentCategory.classList.add('active');
              }
            }
          });
        }
      });
    });
    
    function setActiveCategory() {
      let currentCategorySection = '';
      let currentSubcategorySection = '';
      
      // Trouver la section de sous-catégorie courante
      subcategorySections.forEach(section => {
        const sectionTop = section.getBoundingClientRect().top;
        if (sectionTop < 80) {
          currentSubcategorySection = section.getAttribute('id');
          
          // Trouver la catégorie parente
          const categorySection = section.closest('.faq-page-category-section');
          if (categorySection) {
            currentCategorySection = categorySection.getAttribute('id');
          }
        }
      });
      
      // Si aucune sous-catégorie n'est trouvée, vérifier la catégorie
      if (!currentSubcategorySection) {
        categorySections.forEach(section => {
          const sectionTop = section.getBoundingClientRect().top;
          if (sectionTop < 80) {
            currentCategorySection = section.getAttribute('id');
          }
        });
      }
      
      // Mettre à jour les classes actives
      if (currentCategorySection) {
        categoryLinks.forEach(link => {
          const href = link.getAttribute('href').substring(1);
          if (href === currentCategorySection) {
            link.classList.add('active');
            link.closest('.faq-page-category-item').classList.add('active');
          } else {
            link.classList.remove('active');
          }
        });
      }
      
      if (currentSubcategorySection) {
        subcategoryLinks.forEach(link => {
          if (link.getAttribute('href') === '#' + currentSubcategorySection) {
            link.classList.add('active');
          } else {
            link.classList.remove('active');
          }
        });
      }
    }
    
    // Vérifie si un hash est présent dans l'URL au chargement
    if (window.location.hash) {
      const targetElement = document.getElementById(window.location.hash.substring(1));
      if (targetElement) {
        setTimeout(() => {
          window.scrollTo({
            top: targetElement.offsetTop - 60,
            behavior: 'smooth'
          });
          
          // Si c'est une sous-catégorie, ouvrir a catégorie parente
          if (targetElement.classList.contains('faq-page-subcategory-section')) {
            const subcategoryId = targetElement.getAttribute('id');
            const subcategoryLink = document.querySelector(`.faq-page-subcategory-link[href="#${subcategoryId}"]`);
            if (subcategoryLink) {
              subcategoryLink.classList.add('active');
              const parentCategory = subcategoryLink.closest('.faq-page-category-item');
              if (parentCategory) {
                parentCategory.classList.add('active');
              }
            }
          } else if (targetElement.classList.contains('faq-page-category-section')) {
            const categoryId = targetElement.getAttribute('id');
            const categoryLink = document.querySelector(`.faq-page-category-link[href="#${categoryId}"]`);
            if (categoryLink) {
              categoryLink.classList.add('active');
              categoryLink.closest('.faq-page-category-item').classList.add('active');
            }
          }a
        }, 100);
      }
    }
    
    window.addEventListener('scroll', setActiveCategory);
    setActiveCategory(); // Initialisatio
  });
</script>

{% schema %}
{
  "name": "Page FAQ",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Contenu principal"
    },
    {
      "type": "text",
      "id": "title",
      "default": "Questions fréquentes",
      "label": "Titre de la page"
    },
    {
      "type": "checkbox",
      "id": "show_subtitle",
      "label": "Afficher un sous-titre",
      "default": true
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Sous-titre",
      "default": "<p>Retrouvez toutes les réponses à vos questions concernant nos produits, la livraison et plus encore.</p>"
    },
    {
      "type": "text",
      "id": "categories_title",
      "label": "Titre des catégories",
      "default": "Catégories"
    },
    {
      "type": "text",
      "id": "no_questions_text",
      "label": "Texte quand aucune question",
      "default": "Aucune question dans cette catégorie pour le moment."
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 800,
      "max": 1600,
      "step": 50,
      "unit": "px",
      "label": "Largeur maximale du contenu",
      "default": 1400
    },
    
    {
      "type": "header",
      "content": "Style général"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Taille du titre",
      "default": 42
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Épaisseur du titre",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Couleur du titre",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Taille du sous-titre",
      "default": 16
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Couleur du sous-titre",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "shadow_color",
      "label": "Couleur des ombres",
      "default": "#000000"
    },
    
    {
      "type": "header",
      "content": "Style du menu latéral"
    },
    {
      "type": "color",
      "id": "sidebar_bg_color",
      "label": "Couleur d'arrière-plan",
      "default": "#F8F8F8"
    },
    {
      "type": "range",
      "id": "sidebar_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Rayon de bordure",
      "default": 10
    },
    {
      "type": "color",
      "id": "category_title_color",
      "label": "Couleur du titre des catégories",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "category_link_color",
      "label": "Couleur des liens de catégories",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "category_link_hover_color",
      "label": "Couleur au survol des liens",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "category_link_hover_bg",
      "label": "Arrière-plan au survol des liens",
      "default": "#EEEEEE"
    },
    
    {
      "type": "header",
      "content": "Style des titres de catégories"
    },
    {
      "type": "range",
      "id": "category_heading_size",
      "min": 18,
      "max": 36,
      "step": 1,
      "unit": "px",
      "label": "Taille des titres de catégories",
      "default": 24
    },
    {
      "type": "select",
      "id": "category_heading_weight",
      "label": "Épaisseur des titres de catégories",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "color",
      "id": "category_heading_color",
      "label": "Couleur des titres de catégories",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "category_heading_border_color",
      "label": "Couleur de la bordure des titres",
      "default": "#EEEEEE"
    },
    {
      "type": "color",
      "id": "no_questions_bg",
      "label": "Arrière-plan du message 'aucune question'",
      "default": "#F5F5F5"
    },
    {
      "type": "color",
      "id": "no_questions_color",
      "label": "Couleur du message 'aucune question'",
      "default": "#777777"
    },
    
    {
      "type": "header",
      "content": "Style des questions"
    },
    {
      "type": "range",
      "id": "question_size",
      "min": 14,
      "max": 28,
      "step": 1,
      "unit": "px",
      "label": "Taille de la question",
      "default": 18
    },
    {
      "type": "select",
      "id": "question_weight",
      "label": "Épaisseur de la question",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        }
      ],
      "default": "500"
    },
    {
      "type": "color",
      "id": "question_color",
      "label": "Couleur du texte de question",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "question_padding",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Espacement des questions",
      "default": 24
    },
    {
      "type": "color",
      "id": "chevron_color",
      "label": "Couleur de la flèche",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "chevron_active_color",
      "label": "Couleur de la flèche active",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "chevron_hover_bg",
      "label": "Arrière-plan au survol de la flèche",
      "default": "#F5F5F5"
    },
    
    {
      "type": "header",
      "content": "Style des réponses"
    },
    {
      "type": "color",
      "id": "answer_color",
      "label": "Couleur du texte de réponse",
      "default": "#666666"
    },
    
    {
      "type": "header",
      "content": "Effets d'interaction"
    },
    {
      "type": "range",
      "id": "question_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Rayon de bordure des questions",
      "default": 16
    },
    {
      "type": "color",
      "id": "hover_bg_color",
      "label": "Couleur de fond au survol",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "active_bg_color",
      "label": "Couleur de fond question active",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "hover_indent",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Indentation au survol",
      "default": 8
    },
    {
      "type": "color",
      "id": "hover_color",
      "label": "Couleur d'accent au survol",
      "default": "#000000"
    },
    
    {
      "type": "header",
      "content": "Style des sous-catégories"
    },
    {
      "type": "color",
      "id": "subcategory_heading_color",
      "label": "Couleur des titres de sous-catégories",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "subcategory_heading_border_color",
      "label": "Couleur de la bordure des sous-titres",
      "default": "#EEEEEE"
    },
    {
      "type": "range",
      "id": "subcategory_indent",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Indentation des sous-catégories",
      "default": 16
    },
    
    {
      "type": "header",
      "content": "Espacement de section"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Espacement supérieur",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Espacement inférieur",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Catégorie",
      "settings": [
        {
          "type": "text",
          "id": "category_name",
          "label": "Nom de la catégorie",
          "default": "Produits"
        },
        {
          "type": "text",
          "id": "category_id",
          "label": "ID de la catégorie",
          "info": "Identifiant unique pour cette catégorie (sans espaces, en minuscules)",
          "default": "produits"
        }
      ]
    },
    {
      "type": "subcategory",
      "name": "Sous-catégorie",
      "settings": [
        {
          "type": "text",
          "id": "subcategory_name",
          "label": "Nom de la sous-catégorie",
          "default": "Thés verts"
        },
        {
          "type": "text",
          "id": "subcategory_id",
          "label": "ID de la sous-catégorie",
          "info": "Identifiant unique pour cette sous-catégorie (sans espaces, en minuscules)",
          "default": "thes-verts"
        },
        {
          "type": "select",
          "id": "parent_category",
          "label": "Catégorie parente",
          "info": "Sélectionnez la catégorie à laquelle cette sous-catégorie appartient",
          "options": [
            {
              "value": "entreprise",
              "label": "ENTREPRISE"
            },
            {
              "value": "livraison",
              "label": "LIVRAISON"
            },
            {
              "value": "produits",
              "label": "PRODUITS ET FORMULATIONS"
            }
          ],
          "default": "produits"
        }
      ]
    },
    {
      "type": "question",
      "name": "Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "Quels sont les bienfaits de ce produit ?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Réponse",
          "default": "<p>Notre produit contient des ingrédients naturels qui favorisent la bonne santé des cheveux et du cuir chevelu.</p>"
        },
        {
          "type": "select",
          "id": "category",
          "label": "Catégorie",
          "info": "Sélectionnez la catégorie à laquelle cette question appartient",
          "options": [
            {
              "value": "entreprise",
              "label": "ENTREPRISE"
            },
            {
              "value": "livraison",
              "label": "LIVRAISON"
            },
            {
              "value": "produits",
              "label": "PRODUITS ET FORMULATIONS"
            }
          ],
          "default": "produits"
        },
        {
          "type": "text",
          "id": "subcategory",
          "label": "ID de sous-catégorie (optionnel)",
          "info": "Entrez l'ID exact de la sous-catégorie (voir l'aide sur le côté), ou laissez vide si cette question n'appartient à aucune sous-catégorie"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Page FAQ complète",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "category_name": "ENTREPRISE",
            "category_id": "entreprise"
          }
        },
        {
          "type": "category",
          "settings": {
            "category_name": "LIVRAISON",
            "category_id": "livraison"
          }
        },
        {
          "type": "category",
          "settings": {
            "category_name": "PRODUITS ET FORMULATIONS",
            "category_id": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME POUSSE",
            "subcategory_id": "gamme-pousse",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME CURLY MOOD CARE",
            "subcategory_id": "gamme-curly-mood-care",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME NOURRISSANTE - CHEVEUX SEC",
            "subcategory_id": "gamme-nourrissante-cheveux-sec",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME CUIR CHEVELU À PROBLÈMES",
            "subcategory_id": "gamme-cuir-chevelu-problemes",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME POUSSE BARBE ET CHEVEUX - HOMME",
            "subcategory_id": "gamme-pousse-barbe-cheveux-homme",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME HYDRATATION ET PROTECTION SOLAIRE",
            "subcategory_id": "gamme-hydratation-protection-solaire",
            "parent_category": "produits"
          }
        },
        {
          "type": "subcategory",
          "settings": {
            "subcategory_name": "GAMME LONGUEURS ABÎMÉES - SOIN",
            "subcategory_id": "gamme-longueurs-abimees-soin",
            "parent_category": "produits"
          }
        },
        {
          "type": "question",
          "settings": {
            "question": "Qui sommes-nous ?",
            "answer": "<p>Nous sommes une entreprise spécialisée dans les soins capillaires naturels et efficaces.</p>",
            "category": "entreprise"
          }
        },
        {
          "type": "question",
          "settings": {
            "question": "Quels sont les délais de livraison ?",
            "answer": "<p>Nos délais de livraison sont généralement de 3 à 5 jours ouvrés en France métropolitaine.</p>",
            "category": "livraison"
          }
        },
        {
          "type": "question",
          "settings": {
            "question": "Comment utiliser les produits de la gamme pousse ?",
            "answer": "<p>Nos produits de la gamme pousse s'appliquent directement sur le cuir chevelu propre, en effectuant un massage doux pour stimuler la circulation.</p>",
            "category": "produits",
            "subcategory": "gamme-pousse"
          }
        }
      ]
    }
  ]
}
{% endschema %}